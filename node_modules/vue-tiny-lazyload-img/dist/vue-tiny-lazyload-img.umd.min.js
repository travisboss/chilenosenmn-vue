!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).VueTinyLazyloadImg=n()}(this,function(){"use strict";var e="v-lazy-loading",n="v-lazy-loaded",t="v-lazy-error",r=null,o=function(e,n){e.classList.add(n),e.removeAttribute("data-src"),e.removeAttribute("data-err")};"IntersectionObserver"in window&&(r=new IntersectionObserver(function(i,s){i.forEach(function(i){if(i.isIntersecting){var s=i.target;s.classList.add(e);var a=s.dataset.src,c=s.dataset.err,d=new Image;d.src=a,d.onload=function(){s.classList.remove(e),a&&(s.src=a,o(s,n))},d.onerror=function(){s.classList.remove(e),c&&(s.src=c,o(s,t))},r.unobserve(s)}})}));var i=r;return{install:function(e){e.directive("lazyload",{bind:function(e){"IntersectionObserver"in window&&i.observe(e)},componentUpdated:function(e){"IntersectionObserver"in window&&e.classList.contains(n)&&i.observe(e)}})}}});
//# sourceMappingURL=vue-tiny-lazyload-img.umd.min.js.map
